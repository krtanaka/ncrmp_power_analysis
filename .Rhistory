pdf(paste0("outputs/", islands[ils], "_Sector.pdf"), height = 5, width = 6)
print(p)
dev.off()
bottom_type = st_cast(bottom_type,"POINT")
sector = st_cast(sector,"POINT")
sector <- sector %>%
mutate(lon = unlist(map(sector$geometry,1)),
lat = unlist(map(sector$geometry,2))) %>%
as.data.frame()
sector
sector <- sector %>%
mutate(lon = unlist(map(sector$geometry,1)),
lat = unlist(map(sector$geometry,2))) %>%
as.data.frame()
# convert shapefiles to point csv
library(sf)
library(tidyverse)
rm(list = ls())
islands = c("HAW", "KAH", "KAL", "KAU", "LAN", "MAI", "MOL", "NII", "OAH")
for (ils in 1:length(islands)) {
# ils = 1
sector = st_read(paste0("G:/GIS/sector/MHI/", islands[ils], "_sectors.shp"))
p = sector %>%
st_as_sf() %>%
ggplot() +
geom_sf(aes(group = SEC_NAME, fill = SEC_NAME), color = "NA", show.legend = T) +
ggdark::dark_theme_minimal() +
# scale_fill_viridis_d() +
ggtitle(paste0(islands[ils], "_Sector"))
pdf(paste0("outputs/", islands[ils], "_Sector.pdf"), height = 5, width = 6)
print(p)
dev.off()
sector = st_cast(sector,"POINT")
sector <- sector %>%
mutate(lon = unlist(map(sector$geometry,1)),
lat = unlist(map(sector$geometry,2))) %>%
as.data.frame()
# st_write(bottom_type, paste0("data/", ils_lower, "_hs_biogeo_shp.csv"), layer_options = "GEOMETRY=AS_XY")
# bottom_type = readr::read_csv(paste0("data/", ils_lower, "_hs_biogeo_shp.csv"))
save(bottom_type, file = paste0("data/", tolower(islands[ils]), "_sector_shp.RData"))
print(paste0(islands[ils], "...done..."))
}
ils = 1
shp = st_read(paste0("G:/GIS/sector/MHI/", islands[ils], "_sectors.shp"))
p = shp %>%
st_as_sf() %>%
ggplot() +
geom_sf(aes(group = SEC_NAME, fill = SEC_NAME), color = "NA", show.legend = T) +
ggdark::dark_theme_minimal() +
# scale_fill_viridis_d() +
ggtitle(paste0(islands[ils], "_Sector"))
print(p)
shp = st_cast(shp,"POINT")
shp <- shp %>%
mutate(lon = unlist(map(shp$geometry,1)),
lat = unlist(map(shp$geometry,2))) %>%
as.data.frame()
save(shp, file = paste0("data/", tolower(islands[ils]), "_sector_shp.RData"))
print(paste0(islands[ils], "...done..."))
# convert shapefiles to point csv
library(sf)
library(tidyverse)
rm(list = ls())
islands = c("HAW", "KAH", "KAL", "KAU", "LAN", "MAI", "MOL", "NII", "OAH")
islands = c("HAW", "KAH", "KAL", "KAU", "LAN", "MAI", "MOL", "NII", "OAH")
for (ils in 1:length(islands)) {
# ils = 1
shp = st_read(paste0("G:/GIS/sector/MHI/", islands[ils], "_sectors.shp"))
p = shp %>%
st_as_sf() %>%
ggplot() +
geom_sf(aes(group = SEC_NAME, fill = SEC_NAME), color = "NA", show.legend = T) +
ggdark::dark_theme_minimal() +
# scale_fill_viridis_d() +
ggtitle(paste0(islands[ils], "_Sector"))
pdf(paste0("outputs/", islands[ils], "_Sector.pdf"), height = 5, width = 6)
print(p)
dev.off()
shp = st_cast(shp,"POINT")
shp <- shp %>%
mutate(lon = unlist(map(shp$geometry,1)),
lat = unlist(map(shp$geometry,2))) %>%
as.data.frame()
# st_write(bottom_type, paste0("data/", ils_lower, "_hs_biogeo_shp.csv"), layer_options = "GEOMETRY=AS_XY")
# bottom_type = readr::read_csv(paste0("data/", ils_lower, "_hs_biogeo_shp.csv"))
save(shp, file = paste0("data/", tolower(islands[ils]), "_sector_shp.RData"))
print(paste0(islands[ils], "...done..."))
}
# convert shapefiles to point csv
library(sf)
library(tidyverse)
rm(list = ls())
ils = 1
sector = st_read(paste0("G:/GIS/sector/MHI/", islands[ils], "_sectors.shp"))
# convert shapefiles to point csv
library(sf)
library(tidyverse)
rm(list = ls())
islands = c("HAW", "KAH", "KAL", "KAU", "LAN", "MAI", "MOL", "NII", "OAH")
ils = 1
sector = st_read(paste0("G:/GIS/sector/MHI/", islands[ils], "_sectors.shp"))
p = sector %>%
st_as_sf() %>%
ggplot() +
geom_sf(aes(group = SEC_NAME, fill = SEC_NAME), color = "NA", show.legend = T) +
ggdark::dark_theme_minimal() +
# scale_fill_viridis_d() +
ggtitle(paste0(islands[ils], "_Sector"))
print(p)
sector = st_cast(sector,"POINT")
sector <- sector %>%
mutate(lon = unlist(map(sector$geometry,1)),
lat = unlist(map(sector$geometry,2))) %>%
as.data.frame()
save(sector, file = paste0("data/", tolower(islands[ils]), "_sector_shp.RData"))
reef = st_read(paste0("G:/GIS/reef/MHI/", islands[ils], "_sectors.shp"))
reef = st_read(paste0("G:/GIS/reef/MHI/", islands[ils], "_reefzones.shp"))
reef = st_read(paste0("G:/GIS/reef/MHI/", islands[ils], "_reefzone.shp"))
reef %>%
st_as_sf()
p = reef %>%
st_as_sf() %>%
ggplot() +
geom_sf(aes(group = ZONE_CODE, fill = ZONE_CODE), color = "NA", show.legend = T) +
ggdark::dark_theme_minimal() +
# scale_fill_viridis_d() +
ggtitle(paste0(islands[ils], "_Sector"))
print(p)
p = reef %>%
st_as_sf() %>%
ggplot() +
geom_sf(aes(group = ZONE_CODE, fill = ZONE_CODE), color = "NA", show.legend = T) +
ggdark::dark_theme_minimal() +
# scale_fill_viridis_d() +
ggtitle(paste0(islands[ils], "_reefzones"))
print(p)
reef = st_cast(reef,"POINT")
reef <- reef %>%
mutate(lon = unlist(map(reef$geometry,1)),
lat = unlist(map(reef$geometry,2))) %>%
as.data.frame()
reef
save(reef, file = paste0("data/", tolower(islands[ils]), "_reefzone_shp.RData"))
print(paste0(islands[ils], "...done..."))
ils = 2
reef = st_read(paste0("G:/GIS/reef/MHI/", islands[ils], "_reefzone.shp"))
shp_list = list.files(path = "G:/GIS/reef/MHI/", pattern = "shp.shp"); shp_list
shp_list = list.files(path = "G:/GIS/reef/MHI/", pattern = ".shp"); shp_list
shp_list = list.files(path = "G:/GIS/reef/MHI/", pattern = ".shp"); shp_list
ils = 2
reef = st_read(paste0("G:/GIS/reef/MHI/", shp_list[ils]))
p = reef %>%
st_as_sf() %>%
ggplot() +
geom_sf(aes(group = ZONE_CODE, fill = ZONE_CODE), color = "NA", show.legend = T) +
ggdark::dark_theme_minimal() +
# scale_fill_viridis_d() +
ggtitle(paste0(islands[ils], "_reefzones"))
print(p)
reef = st_cast(reef,"POINT")
reef <- reef %>%
mutate(lon = unlist(map(reef$geometry,1)),
lat = unlist(map(reef$geometry,2))) %>%
as.data.frame()
tolower(shp_list[ils])
paste0("data/", tolower(shp_list[ils]), ".RData")
shp_list = list.files(path = "G:/GIS/reef/MHI/", pattern = ".shp"); shp_list
for (ils in 1:length(shp_list)) {
# ils = 2
reef = st_read(paste0("G:/GIS/reef/MHI/", shp_list[ils]))
p = reef %>%
st_as_sf() %>%
ggplot() +
geom_sf(aes(group = ZONE_CODE, fill = ZONE_CODE), color = "NA", show.legend = T) +
ggdark::dark_theme_minimal() +
# scale_fill_viridis_d() +
ggtitle(paste0(islands[ils], "_reefzones"))
pdf(paste0("outputs/", islands[ils], "_Sector.pdf"), height = 5, width = 6)
print(p)
dev.off()
reef = st_cast(reef,"POINT")
reef <- reef %>%
mutate(lon = unlist(map(reef$geometry,1)),
lat = unlist(map(reef$geometry,2))) %>%
as.data.frame()
save(reef, file = paste0("data/", tolower(shp_list[ils]), ".RData"))
print(paste0(islands[ils], "...done..."))
}
ils
ils = 4
reef = st_read(paste0("G:/GIS/reef/MHI/", shp_list[ils]))
reef
p = reef %>%
st_as_sf() %>%
ggplot() +
geom_sf(aes(group = REEF_ZONE, fill = REEF_ZONE), color = "NA", show.legend = T) +
ggdark::dark_theme_minimal() +
# scale_fill_viridis_d() +
ggtitle(paste0(islands[ils], "_reefzones"))
print(p)
p = reef %>%
st_as_sf() %>%
ggplot() +
geom_sf(aes(group = REEF_ZONE, fill = REEF_ZONE), color = "NA", show.legend = T) +
ggdark::dark_theme_minimal() +
# scale_fill_viridis_d() +
ggtitle(paste0(islands[ils], "_reefzones"))
print(p)
print(p)
ils = 4
reef = st_read(paste0("G:/GIS/reef/MHI/", shp_list[ils]))
p = reef %>%
st_as_sf() %>%
ggplot() +
geom_sf(aes(group = REEF_ZONE, fill = REEF_ZONE), color = "NA", show.legend = T) +
ggdark::dark_theme_minimal() +
# scale_fill_viridis_d() +
ggtitle(paste0(islands[ils], "_reefzones"))
pdf(paste0("outputs/", islands[ils], "_Sector.pdf"), height = 5, width = 6)
print(p)
dev.off()
reef = st_cast(reef,"POINT")
dev.off()
dev.off()
print(p)
reef = st_cast(reef,"POINT")
reef <- reef %>%
mutate(lon = unlist(map(reef$geometry,1)),
lat = unlist(map(reef$geometry,2))) %>%
as.data.frame()
reef
save(reef, file = paste0("data/", tolower(shp_list[ils]), ".RData"))
print(paste0(islands[ils], "...done..."))
shp_list = list.files(path = "G:/GIS/reef/MHI/", pattern = ".shp"); shp_list
for (ils in 1:length(shp_list)) {
# ils = 4
reef = st_read(paste0("G:/GIS/reef/MHI/", shp_list[ils]))
p = reef %>%
st_as_sf() %>%
ggplot() +
geom_sf(aes(group = REEF_ZONE, fill = REEF_ZONE), color = "NA", show.legend = T) +
ggdark::dark_theme_minimal() +
# scale_fill_viridis_d() +
ggtitle(paste0(islands[ils], "_reefzones"))
pdf(paste0("outputs/", islands[ils], "_Sector.pdf"), height = 5, width = 6)
print(p)
dev.off()
reef = st_cast(reef,"POINT")
reef <- reef %>%
mutate(lon = unlist(map(reef$geometry,1)),
lat = unlist(map(reef$geometry,2))) %>%
as.data.frame()
save(reef, file = paste0("data/", tolower(shp_list[ils]), ".RData"))
print(paste0(islands[ils], "...done..."))
}
shp_list = list.files(path = "G:/GIS/sector/MHI/", pattern = ".shp"); shp_list
ils = 1
sector = st_read(paste0("G:/GIS/reef/MHI/", shp_list[ils]))
sector = st_read(paste0("G:/GIS/sector/MHI/", shp_list[ils]))
shp_list = list.files(path = "G:/GIS/sector/MHI/", pattern = ".shp"); shp_list
#################
### hard/soft ###
#################
shp_list = list.files(path = "G:/GIS/hardsoft/MHI/", pattern = ".shp"); shp_list
#################
### hard/soft ###
#################
shp_list = list.files(path = "G:/GIS/hardsoft/MHI/", pattern = "shp.shp"); shp_list
#################
### hard/soft ###
#################
shp_list = list.files(path = "G:/GIS/hardsoft/MHI/", pattern = "shp.shp"); shp_list
ils = 1
bottom_type = st_read(paste0("G:/GIS/hardsoft/MHI/", shp_list[ils]))
p = bottom_type %>%
st_as_sf() %>%
# filter(!HardSoft %in% c("Unknown")) %>%
filter(!HardSoft %in% c("Unknown", "Land", "Other")) %>%
ggplot() +
geom_sf(aes(group = HardSoft, fill = HardSoft), color = "NA", show.legend = T) +
ggdark::dark_theme_minimal() +
# scale_fill_viridis_d() +
ggtitle(paste0(islands[ils], "_Bottom_Substrate"))
# convert shapefiles to point csv
library(sf)
library(tidyverse)
rm(list = ls())
#################
### hard/soft ###
#################
shp_list = list.files(path = "G:/GIS/hardsoft/MHI/", pattern = "shp.shp"); shp_list
bottom_type = st_read(paste0("G:/GIS/hardsoft/MHI/", shp_list[ils]))
ils = 1
bottom_type = st_read(paste0("G:/GIS/hardsoft/MHI/", shp_list[ils]))
bottom_type %>%
st_as_sf() %>%
# filter(!HardSoft %in% c("Unknown")) %>%
filter(!HardSoft %in% c("Unknown", "Land", "Other")) %>%
ggplot() +
geom_sf(aes(group = HardSoft, fill = HardSoft), color = "NA", show.legend = T) +
ggdark::dark_theme_minimal() +
# scale_fill_viridis_d() +
ggtitle(paste0(shp_list[ils], "_Bottom_Substrate"))
print(p)
ils = 1
bottom_type = st_read(paste0("G:/GIS/hardsoft/MHI/", shp_list[ils]))
p = bottom_type %>%
st_as_sf() %>%
# filter(!HardSoft %in% c("Unknown")) %>%
filter(!HardSoft %in% c("Unknown", "Land", "Other")) %>%
ggplot() +
geom_sf(aes(group = HardSoft, fill = HardSoft), color = "NA", show.legend = T) +
ggdark::dark_theme_minimal() +
# scale_fill_viridis_d() +
ggtitle(paste0(shp_list[ils], "_Bottom_Substrate"))
pdf(paste0("outputs/", shp_list[ils], "_Bottom_Substrate.pdf"), height = 5, width = 6)
print(p)
dev.off()
bottom_type = st_cast(bottom_type,"POINT")
bottom_type <- bottom_type %>%
mutate(lon = unlist(map(bottom_type$geometry,1)),
lat = unlist(map(bottom_type$geometry,2))) %>%
as.data.frame()
tolower(shp_list[ils])
tolower(shp_list[ils])
tolower(shp_list[ils])
substr(tolower(shp_list[ils]),1,nchar(tolower(shp_list[ils]))-2)
substr(tolower(shp_list[ils]),1,nchar(tolower(shp_list[ils]))-5)
substr(tolower(shp_list[ils]),1,nchar(tolower(shp_list[ils]))-4)
filename = substr(tolower(shp_list[ils]),1,nchar(tolower(shp_list[ils]))-4)
filename
save(bottom_type, file = paste0("data/", filename, ".RData"))
#################
### hard/soft ###
#################
shp_list = list.files(path = "G:/GIS/hardsoft/MHI/", pattern = "shp.shp"); shp_list
for (ils in 1:length(shp_list)) {
# ils = 1
bottom_type = st_read(paste0("G:/GIS/hardsoft/MHI/", shp_list[ils]))
p = bottom_type %>%
st_as_sf() %>%
# filter(!HardSoft %in% c("Unknown")) %>%
filter(!HardSoft %in% c("Unknown", "Land", "Other")) %>%
ggplot() +
geom_sf(aes(group = HardSoft, fill = HardSoft), color = "NA", show.legend = T) +
ggdark::dark_theme_minimal() +
# scale_fill_viridis_d() +
ggtitle(paste0(shp_list[ils], "_Bottom_Substrate"))
pdf(paste0("outputs/", shp_list[ils], "_Bottom_Substrate.pdf"), height = 5, width = 6)
print(p)
dev.off()
bottom_type = st_cast(bottom_type,"POINT")
bottom_type <- bottom_type %>%
mutate(lon = unlist(map(bottom_type$geometry,1)),
lat = unlist(map(bottom_type$geometry,2))) %>%
as.data.frame()
# st_write(bottom_type, paste0("data/", ils_lower, "_hs_biogeo_shp.csv"), layer_options = "GEOMETRY=AS_XY")
# bottom_type = readr::read_csv(paste0("data/", ils_lower, "_hs_biogeo_shp.csv"))
filename = substr(tolower(shp_list[ils]),1,nchar(tolower(shp_list[ils]))-4)
save(bottom_type, file = paste0("data/", filename, ".RData"))
print(paste0(islands[ils], "...done..."))
}
##############
### sector ###
##############
shp_list = list.files(path = "G:/GIS/sector/MHI/", pattern = ".shp"); shp_list
ils = 1
sector = st_read(paste0("G:/GIS/sector/MHI/", shp_list[ils]))
sector %>%
st_as_sf()
p = sector %>%
st_as_sf() %>%
ggplot() +
geom_sf(aes(group = SEC_NAME, fill = SEC_NAME), color = "NA", show.legend = T) +
ggdark::dark_theme_minimal() +
# scale_fill_viridis_d() +
ggtitle(paste0(islands[ils], "_Sector"))
print(p)
p = sector %>%
st_as_sf() %>%
ggplot() +
geom_sf(aes(group = SEC_NAME, fill = SEC_NAME), color = "NA", show.legend = T) +
ggdark::dark_theme_minimal() +
# scale_fill_viridis_d() +
ggtitle(paste0(shp_list[ils], "_Sector"))
print(p)
tolower(islands[ils])
tolower(shp_list[ils])
ils = 1
sector = st_read(paste0("G:/GIS/sector/MHI/", shp_list[ils]))
p = sector %>%
st_as_sf() %>%
ggplot() +
geom_sf(aes(group = SEC_NAME, fill = SEC_NAME), color = "NA", show.legend = T) +
ggdark::dark_theme_minimal() +
# scale_fill_viridis_d() +
ggtitle(paste0(shp_list[ils], "_Sector"))
pdf(paste0("outputs/", shp_list[ils], "_Sector.pdf"), height = 5, width = 6)
print(p)
dev.off()
sector = st_cast(sector,"POINT")
sector <- sector %>%
mutate(lon = unlist(map(sector$geometry,1)),
lat = unlist(map(sector$geometry,2))) %>%
as.data.frame()
filename = substr(tolower(shp_list[ils]),1,nchar(tolower(shp_list[ils]))-4)
filename
save(sector, file = paste0("data/", filename, "_shp.RData"))
shp_list[ils]
##############
### sector ###
##############
shp_list = list.files(path = "G:/GIS/sector/MHI/", pattern = ".shp"); shp_list
for (ils in 1:length(shp_list)) {
# ils = 1
sector = st_read(paste0("G:/GIS/sector/MHI/", shp_list[ils]))
p = sector %>%
st_as_sf() %>%
ggplot() +
geom_sf(aes(group = SEC_NAME, fill = SEC_NAME), color = "NA", show.legend = T) +
ggdark::dark_theme_minimal() +
# scale_fill_viridis_d() +
ggtitle(paste0(shp_list[ils], "_Sector"))
pdf(paste0("outputs/", shp_list[ils], "_Sector.pdf"), height = 5, width = 6)
print(p)
dev.off()
sector = st_cast(sector,"POINT")
sector <- sector %>%
mutate(lon = unlist(map(sector$geometry,1)),
lat = unlist(map(sector$geometry,2))) %>%
as.data.frame()
filename = substr(tolower(shp_list[ils]),1,nchar(tolower(shp_list[ils]))-4)
save(sector, file = paste0("data/", filename, "_shp.RData"))
print(paste0(islands[ils], "...done..."))
}
################
### reefzone ###
################
shp_list = list.files(path = "G:/GIS/reef/MHI/", pattern = ".shp"); shp_list
ils = 4
reef = st_read(paste0("G:/GIS/reef/MHI/", shp_list[ils]))
p = reef %>%
st_as_sf() %>%
ggplot() +
geom_sf(aes(group = REEF_ZONE, fill = REEF_ZONE), color = "NA", show.legend = T) +
ggdark::dark_theme_minimal() +
# scale_fill_viridis_d() +
ggtitle(paste0(islands[ils], "_reefzones"))
reef = st_read(paste0("G:/GIS/reef/MHI/", shp_list[ils]))
reef = st_cast(reef,"POINT")
reef <- reef %>%
mutate(lon = unlist(map(reef$geometry,1)),
lat = unlist(map(reef$geometry,2))) %>%
as.data.frame()
filename = substr(tolower(shp_list[ils]),1,nchar(tolower(shp_list[ils]))-4)
filename
paste0("data/", tolower(shp_list[ils]), ".RData")
################
### reefzone ###
################
shp_list = list.files(path = "G:/GIS/reef/MHI/", pattern = ".shp"); shp_list
for (ils in 1:length(shp_list)) {
# ils = 4
reef = st_read(paste0("G:/GIS/reef/MHI/", shp_list[ils]))
# p = reef %>%
#   st_as_sf() %>%
#   ggplot() +
#   geom_sf(aes(group = REEF_ZONE, fill = REEF_ZONE), color = "NA", show.legend = T) +
#   ggdark::dark_theme_minimal() +
#   # scale_fill_viridis_d() +
#   ggtitle(paste0(islands[ils], "_reefzones"))
#
# pdf(paste0("outputs/", islands[ils], "_Sector.pdf"), height = 5, width = 6)
# print(p)
# dev.off()
reef = st_cast(reef,"POINT")
reef <- reef %>%
mutate(lon = unlist(map(reef$geometry,1)),
lat = unlist(map(reef$geometry,2))) %>%
as.data.frame()
filename = substr(tolower(shp_list[ils]),1,nchar(tolower(shp_list[ils]))-4)
save(reef, file = paste0("data/", tolower(shp_list[ils]), ".RData"))
print(paste0(islands[ils], "...done..."))
}
ils = 4
reef = st_read(paste0("G:/GIS/reef/MHI/", shp_list[ils]))
reef %>%
st_as_sf()
reef %>%
st_as_sf() %>%
filter(!HardSoft %in% c("Unknown", "Land", "Other")) %>%
ggplot() +
geom_sf(aes(group = REEF_ZONE, fill = REEF_ZONE), color = "NA", show.legend = T) +
ggdark::dark_theme_minimal() +
# scale_fill_viridis_d() +
ggtitle(paste0(islands[ils], "_reefzones"))
reef %>%
st_as_sf() %>%
filter(!REEF_ZONE %in% c("Unknown", "Land", "Other")) %>%
ggplot() +
geom_sf(aes(group = REEF_ZONE, fill = REEF_ZONE), color = "NA", show.legend = T) +
ggdark::dark_theme_minimal() +
# scale_fill_viridis_d() +
ggtitle(paste0(islands[ils], "_reefzones"))
reef = st_read(paste0("G:/GIS/reef/MHI/", shp_list[ils]))
reef = st_cast(reef,"POINT")
reef <- reef %>%
mutate(lon = unlist(map(reef$geometry,1)),
lat = unlist(map(reef$geometry,2))) %>%
as.data.frame()
filename = substr(tolower(shp_list[ils]),1,nchar(tolower(shp_list[ils]))-4)
filename
